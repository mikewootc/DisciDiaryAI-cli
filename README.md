# DisciDiaryAI-cli
A self-discipline diary cli assistent tool powered by AI llm.

# Installation

    pip install -r requirements.txt

# Usage

## 建立自己的日记工作区

1. 新建一个文件夹, 并按如下步骤拷贝日记文件与计划文件.
2. 将 diary_sample.md 复制到新建的文件夹中, 可以修改为自己的文件名.
3. 编辑 diary_sample.md，将其中的内容替换为你自己的内容. 但是格式要满足:

        ## 第04周：  ← 这一行只是为了人类的可读性，并非必须看个人喜好是否保留.
        - 2026-01-19 周一：  ← 这一行是必须的, AI 会根据这一行来判断日期.
            - 健康：...
            - 工作：...
            - 学习：...

    这里的 ... 是你自己的内容. 你可以根据自己的情况填写. "健康", "工作", "学习" 这几项可以根据自己的情况修增删修改. 如果需要 AI 协助统计积分的话, 可以使用类似: "健康：跑步：+1. 早睡：+1. " 这种写法.
4. 将 plan_sample.md 复制到新建的文件夹中, 可以修改为自己的文件名.
5. 如果需要对照计划来让 AI 对日记进行总结的话, 编辑 plan_sample.md 文件, 将其内容替换为你自己的计划. 但是格式要满足:

        ## 2026.01计划   ← 这一行是必须的, AI 会根据这一行来判断月份.
        - 健康:   ← 这里是对照日记里面的项目
            - 积累30分.
        - 工作: 
            - ✅ ...
            - ...
            - ...
6. 配置:
   - 将 aid_config-sample.json 复制到新建的文件夹中, 并命名为 aid_config.json.
   - 编辑 aid_config.json 文件, 将其中的内容替换为你自己的配置. 其中这几项是必须的:
        ```json
        "model_selection": {
            "default_model": "qwen"
        },
        "plan_file": "~/diary/2026_plan.md",   ← 这里是你自己的计划文件路径.
        "diary_file": "~/diary/2026_diary.md"  ← 这里是你自己的日记文件路径.
        ```

   - 将 .env.sample 复制到新建的文件夹中, 并命名为 .env, 并修改其中的内容为你自己的 API 密钥.

## 使用

1. 正常编写自己的日记.
2. 运行 cli 工具.
    ```bash
    python aid.py 
    ```

### 命令行参数

| 参数 | 说明 |
|------|------|
| `-s, --shell` | 在 bash shell 中显示，支持 Markdown 格式渲染 |
| `-V, --version` | 显示版本信息 |
| `-v, --verbose` | 详细模式，指定日志级别 |
| `-u, --user_prompt` | 一次性用户提示，执行后退出 |
| `-i, --interactive` | 交互模式，可连续输入多个问题（输入'q'结束） |

### 使用示例

#### 1. 交互模式

```bash
python aid.py -i
```

进入交互模式后，可以输入问题与 AI 助手对话，例如：

```
> 帮我总结今天的日记.
> 结合1月的计划, 帮我总结1月份的执行情况. (这里还可以加一些自己的要求)
> 结合阅读计划，帮我统计一下这个月到目前为止的执行偏差。
> 发送通知邮件，主题：日记总结，内容：已完成今日总结. 内容如下: ...
```

#### 2. 一次性执行

```bash
python aid.py -u "帮我总结2026-01-20的日记"  # ← 可以按日/周/月/季/年来进行一下统计, 总结, 建议之类的.
```

#### 3. 在 Shell 中显示（支持 Markdown 渲染）

```bash
python aid.py -i -s
```

这样会在终端中以美化的 Markdown 格式显示 AI 的回复。