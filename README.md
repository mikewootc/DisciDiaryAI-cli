# DisciDiaryAI-cli
A self-discipline diary cli assistent tool powered by AI llm.

# Installation

    pip install -r requirements.txt

将项目路径添加到环境变量中.

# Usage

## 建立自己的日记工作区并配置

1. 在想要建立工作区的目录下, 执行:

    ```bash
    python 程序路径/aid.py init
    ```

    该命令会在当前目录下新建一个名为 aid_workspace 的文件夹, 其中包含4个文件:
    - aid_config.json
    - diary_年份.md
    - plan_年份.md
    - .env

2. 编辑 aid_config.json 文件, 将其中的内容替换为你自己的配置. 其中这几项是必须的:
    ```json
    "model_selection": {
        "default_model": "qwen"   ← 这里是你自己选择的模型. 可以是 "qwen", "deepseek", "custom"
    },
    "plan_file": "~/diary/2026_plan.md",   ← 这里是你自己的计划文件路径.
    "diary_file": "~/diary/2026_diary.md"  ← 这里是你自己的日记文件路径.
    ```
3. 配置 API key 等信息(如果需要发送邮件, 则配置邮箱信息, 否则不需要配置).

## 编写计划与日记

1. 编辑上面创建的工作区中的: 年份_diary.md，将其中的内容替换为你自己的内容. 但是格式要满足:

    ```markdown
    ## 第04周：  ← 这一行只是为了人类的可读性，并非必须看个人喜好是否保留.
    - 2026-01-19 周一：  ← 这一行是必须的, AI 会根据这一行来判断日期.
        - 健康：...
        - 工作：...
        - 学习：...
    ```

    这里的 ... 是你自己的内容. 你可以根据自己的情况填写. "健康", "工作", "学习" 这几项可以根据自己的情况修增删修改. 如果需要 AI 协助统计积分的话, 可以使用类似: "健康：跑步：+1. 早睡：+1. " 这种写法.

2. 如果需要对照计划来让 AI 对日记进行总结的话, 编辑 年份_plan.md 文件, 将其内容替换为你自己的计划. 但是格式要满足:

    ```markdown
    ## 2026.01计划   ← 这一行是必须的, AI 会根据这一行来判断月份.
    - 健康:   ← 这里是对照日记里面的项目
        - 积累30分.
    - 工作: 
        - ✅ ...
        - ...
        - ...
    ```

## 使用

1. 正常编写自己的日记.
2. 运行 cli 工具.

    ```bash
    # 在工作区目录下运行
    python 程序路径/aid.py OPTIONS  # 这里 OPTIONS 是你自己的命令行参数. 详情请参考下面的表格.
    ```

### 命令行参数

| 参数 | 说明 |
|------|------|
| `-s, --shell` | 在 bash shell 中显示，支持 Markdown 格式渲染 |
| `-V, --version` | 显示版本信息 |
| `-v, --verbose` | 详细模式，指定日志级别 |
| `-u, --user_prompt` | 一次性用户提示，执行后退出 |
| `-i, --interactive` | 交互模式，可连续输入多个问题（输入'q'结束） |

### 使用示例

#### 1. 交互模式

    ```bash
    python aid.py -i
    ```

进入交互模式后，可以输入问题与 AI 助手对话，例如：

```
> 帮我总结今天的日记.
> 结合1月的计划, 帮我总结1月份的执行情况. (这里还可以加一些自己的要求)
> 结合阅读计划，帮我统计一下这个月到目前为止的执行偏差。
> 发送通知邮件，主题：日记总结，内容：已完成今日总结. 内容如下: ...
```

#### 2. 一次性执行

```bash
python aid.py -u "帮我总结2026-01-20的日记"  # ← 可以按日/周/月/季/年来进行一下统计, 总结, 建议之类的.
```

#### 3. 在 Shell 中显示（支持 Markdown 渲染）

```bash
python aid.py -i -s
```

这样会在终端中以美化的 Markdown 格式显示 AI 的回复。